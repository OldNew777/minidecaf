### Step7实验报告

2018013443 陈新 计82

#### 实验内容

step7要实现作用域和块语句，实现变量的作用域化，需要进行名称解析

上一个step的符号表是全局统一的一个，必须修改其结构以支持作用域

将符号表改造为一个栈，进入一个新作用域就向栈中压入一个空列表，离开则从栈中弹出一个

每次在符号表中查找变量时，从栈顶向栈底查找，以实现作用域的覆盖

---------------------

#### 思考题

1. 将代码中的???替换为一个32位整数，使得程序运行结束后会返回0

   ???=256

   因为c语言main函数的return函数值会截取后8位

2. 在实验指导中，我们提到“就 MiniDecaf 而言，名称解析的代码也可以嵌入 IR 生成里”，但不是对于所有语言都可以把名称解析嵌入代码生成。试问被编译的语言有什么特征时，名称解析作为单独的一个阶段在 IR 生成之前执行会更好？

   解释性语言中如python，class的成员变量可以在函数A中使用、函数B中定义，具体运行时必须先调用函数B再调用函数A才不会出现undefined问题，否则应该报错。这样类型的语言最好在IR生成之前名称解析，看是否变量真的define了

